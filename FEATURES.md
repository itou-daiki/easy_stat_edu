# easyStat 機能一覧

## 実装済み機能

### 📊 データ読み込み
- **対応フォーマット**:
  - Excel (.xlsx, .xls)
  - CSV (UTF-8, Shift-JIS 自動判定)
- **処理方法**: ブラウザ内で完結（サーバーに送信されません）

---

### 1. 探索的データ分析（EDA）

**機能:**
- 記述統計量の計算
  - 平均値、中央値、標準偏差
  - 最小値、最大値
  - 四分位数（Q1, Q3）

**可視化:**
- ヒストグラム（度数分布）
- 箱ひげ図

**用途:**
- データの基本的な特徴を把握
- 外れ値の検出
- 分布の形状確認

---

### 2. 相関分析

**機能:**
- ピアソンの相関係数の計算
- 統計的有意性検定（p値）
- 相関の強さの判定

**可視化:**
- 散布図
- 回帰直線

**結果の解釈:**
- 相関の強さ（弱い/中程度/強い）
- 相関の方向（正/負）
- 統計的有意性の判断

---

### 3. t検定

**機能:**
- 対応なしt検定（独立2群）
- 対応ありt検定（対応2群）
- 効果量（Cohen's d）の計算

**可視化:**
- 箱ひげ図（グループ比較）

**結果の解釈:**
- グループ間の平均値の差
- 統計的有意性
- 効果の大きさ（小/中/大）

---

### 4. カイ二乗検定

**機能:**
- クロス集計表の作成
- カイ二乗統計量の計算
- 期待度数の表示
- 独立性の検定

**結果の解釈:**
- 2つの変数の関連性
- 統計的有意性の判断

---

### 5. 一要因分散分析（ANOVA）

**機能:**
- 3群以上の平均値の比較
- F統計量の計算
- グループ別記述統計量

**可視化:**
- 箱ひげ図（全グループ）

**結果の解釈:**
- グループ間の差の有無
- 統計的有意性の判断

**注意:**
- 多重比較（事後検定）は今後実装予定

---

### 6. 単回帰分析

**機能:**
- 回帰係数の推定（切片、傾き）
- 決定係数（R²）の計算
- 相関係数の計算
- 標準誤差の計算

**可視化:**
- 散布図 + 回帰直線
- 残差プロット

**結果の解釈:**
- 回帰式の提示
- モデルの説明力（R²）
- 統計的有意性

---

### 7. 主成分分析（PCA）

**機能:**
- 主成分の抽出
- 寄与率の計算
- 累積寄与率の表示
- 主成分得点の計算

**可視化:**
- 寄与率の棒グラフ
- 主成分散布図（第1・第2主成分）

**用途:**
- データの次元削減
- 変数間の関係性の把握
- データの可視化

---

### 8. データクレンジング

**機能:**
- 欠損値情報の表示
- 欠損値を含む行の削除
- 欠損値の補完（平均値）
- 重複行の削除
- データ型の確認

**可視化:**
- データ概要の表
- 欠損値情報の表
- 基本統計量の表

**用途:**
- データの品質確認
- 分析前の前処理
- データのクリーンアップ

---

### 9. 二要因分散分析

**機能:**
- 2つの要因の主効果を検定
- グループごとの記述統計量
- F統計量の計算

**可視化:**
- 各要因の箱ひげ図

**結果の解釈:**
- 各要因の主効果の有無
- 統計的有意性の判断

**注意:**
- この実装では交互作用の検定は含まれていません

---

### 10. 重回帰分析

**機能:**
- 複数の説明変数による予測モデル
- 回帰係数の推定
- 決定係数（R²）と調整済みR²
- RMSE（二乗平均平方根誤差）の計算

**可視化:**
- 予測値 vs 実測値の散布図
- 残差プロット

**結果の解釈:**
- 回帰式の提示
- モデルの説明力
- 各変数の寄与

---

### 11. 因子分析（PCAベース）

**機能:**
- 因子の抽出（PCAベース）
- 因子負荷量の計算
- 寄与率と累積寄与率

**可視化:**
- スクリープロット
- 因子負荷量のヒートマップ

**用途:**
- 潜在的な因子構造の探索
- 変数の要約
- データの理解

**注意:**
- この実装はPCAベースの簡易版です
- 本格的な因子分析とは異なります

---

### 12. テキストマイニング（簡易版）

**機能:**
- 頻出単語の抽出（TOP 30）
- 単語の出現回数カウント
- 日本語・英語の両方に対応
- ストップワードの除外

**可視化:**
- 頻出単語の横棒グラフ
- 頻出単語リスト

**用途:**
- テキストの概要把握
- キーワード抽出
- テーマの特定

**注意:**
- 簡易的な単語分割を使用（MeCab不使用）
- 高度な形態素解析は行いません

---

---

## 機能比較表

| 機能 | 実装状況 | PyScript対応 | グラフ表示 |
|------|---------|-------------|-----------|
| データ読み込み | ✅ | ✅ | - |
| データクレンジング | ✅ | ✅ | - |
| EDA | ✅ | ✅ | ✅ |
| 相関分析 | ✅ | ✅ | ✅ |
| カイ二乗検定 | ✅ | ✅ | - |
| t検定 | ✅ | ✅ | ✅ |
| 一要因ANOVA | ✅ | ✅ | ✅ |
| 二要因ANOVA | ✅ | ⚠️ | ✅ |
| 単回帰分析 | ✅ | ✅ | ✅ |
| 重回帰分析 | ✅ | ✅ | ✅ |
| 主成分分析 | ✅ | ✅ | ✅ |
| 因子分析 | ✅ | ⚠️ | ✅ |
| テキストマイニング | ✅ | ⚠️ | ✅ |

凡例:
- ✅ 実装済み・完全対応
- ⚠️ 制限あり（簡易版・一部機能のみ）

**制限事項の詳細:**
- **二要因ANOVA**: 交互作用の検定なし（主効果のみ）
- **因子分析**: PCAベースの簡易版
- **テキストマイニング**: 簡易的な単語分割（MeCab不使用）

---

## 技術的制限

### PyScriptの制限

1. **利用できないライブラリ**:
   - MeCab（形態素解析）
   - 一部の専門的な統計ライブラリ

2. **パフォーマンス**:
   - 大規模データ（数万行以上）の処理は遅い
   - 初回読み込みに数分かかる場合あり

3. **グラフ**:
   - matplotlibを使用（静的画像）
   - インタラクティブグラフ（plotly等）は今後検討

---

## 拡張方法

### 新しい分析機能を追加する手順

1. **Pythonコードの追加** (`docs/py/common.py`)
   ```python
   def run_new_analysis(params):
       # 分析ロジック
       # ...
       return result_html
   ```

2. **JavaScriptコントロールの追加** (`docs/js/utils.js`)
   ```javascript
   function showNewAnalysisControls() {
       // UIコントロールを表示
   }

   async function runNewAnalysis() {
       // Python関数を呼び出し
       const result = await pyscript.interpreter.globals.get('run_new_analysis')(params);
       displayResults(result);
   }
   ```

3. **ナビゲーションの追加** (`docs/index.html`)
   ```html
   <div class="feature-card" onclick="loadAnalysis('new_analysis')">
       <h3>新しい分析</h3>
       <p>説明</p>
   </div>
   ```

---

## サポートが必要な機能

コミュニティの皆様からの貢献をお待ちしています！

**優先度高:**
1. 重回帰分析の実装
2. 因子分析の実装
3. データクレンジング機能
4. グラフのカスタマイズオプション

**優先度中:**
1. 結果のエクスポート機能（CSV、PNG）
2. サンプルデータセットの追加
3. UI/UXの改善
4. レスポンシブデザインの最適化

**優先度低:**
1. テーマ切り替え（ダーク/ライトモード）
2. 多言語対応
3. オフラインモード

---

© 2022-2025 Dit-Lab.(Daiki Ito). All Rights Reserved.
