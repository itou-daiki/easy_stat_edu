# easyStat 機能詳細

easyStatに実装されている全機能の詳細と、JavaScript版での仕様について説明します。

## 実装済み機能一覧

### 1. データ管理機能
- **ファイル読み込み**:
    - Excelファイル (`.xlsx`, `.xls`)
    - CSVファイル (`.csv`) - 文字コード（Shift-JIS/UTF-8）を自動判定して読み込みます。
- **データプレビュー**: データの先頭行、データ型、欠損値の有無を確認できます。
- **ダウンロード**: 加工・分析後のデータをCSV/Excel形式でダウンロード可能です。

### 2. データクレンジング
分析の前処理を行う機能です。
- **欠損値処理**: 欠損値を含む行の削除、フラグ付け。
- **外れ値除去**: 四分位範囲 (IQR) を用いた外れ値の自動検出と除去。
- **変数選択**: 分析に必要な列のみをフィルタリング。

### 3. 探索的データ分析 (EDA)
データの全体像を把握するための機能です。
- **要約統計量**: 平均、中央値、標準偏差、最大・最小、四分位数など。
- **可視化**:
    - ヒストグラム（分布の形状）
    - 箱ひげ図（ばらつきと外れ値）
    - 散布図（2変数間の関係）

### 4. 相関分析
2つの量的変数の関係性を分析します。
- **指標**: ピアソンの積率相関係数 ($r$), p値。
- **可視化**: 散布図行列（Scatterplot Matrix）、ヒートマップ。

### 5. t検定 (t-test)
2群の平均値の差を検定します。
- **対応なし t検定**: 独立した2群間の差（例：男性と女性の身長差）。
- **対応あり t検定**: 関連する2群間の差（例：同じ人の事前・事後のテスト点数）。
- **効果量**: Cohen's d を算出。

### 6. 一要因分散分析 (One-way ANOVA)
3群以上の平均値の差を検定します。
- **検定**: F検定により、群間に有意な差があるかを判定。
- **可視化**: 各群の箱ひげ図、信頼区間エラーバー付き平均値プロット。

### 7. 二要因分散分析 (Two-way ANOVA)
2つの要因が結果に及ぼす影響を分析します。
- **主効果と交互作用**: 各要因単独の効果および、要因同士の組み合わせ効果を検定。
- **可視化**: 交互作用プロット（折れ線グラフ）。

### 8. カイ二乗検定 (Chi-Square Test)
質的変数（カテゴリ）間の独立性を検定します。
- **分析**: クロス集計表（分割表）の作成、期待度数の計算、カイ二乗統計量、p値。
- **可視化**: 積み上げ棒グラフ、モザイクプロット。

### 9. 単回帰分析
1つの説明変数から目的変数を予測します。
- **結果**: 回帰式 ($y = ax + b$)、回帰係数、決定係数 ($R^2$)。
- **可視化**: 散布図と回帰直線。

### 10. 重回帰分析
複数の説明変数から目的変数を予測します。
- **結果**: 偏回帰係数、標準化偏回帰係数、自由度調整済み決定係数。
- **診断**: VIF（多重共線性）の確認（簡易実装）。

### 11. 主成分分析 (PCA)
多次元のデータを情報の損失を最小限にして要約します。
- **結果**: 固有値、寄与率、累積寄与率、主成分負荷量。
- **可視化**: スクリープロット、バイプロット（第1・第2主成分）。

### 12. 因子分析
観測変数の背後にある潜在的な共通因子を探ります。
- **手法**: 主因子法（近似計算）、バリマックス回転（近似）。
- **可視化**: 因子負荷量のヒートマップ、因子得点プロット。

### 13. テキストマイニング
日本語テキストデータを分析します。
- **形態素解析**: `kuromoji.js` を使用し、ブラウザ内で辞書ベースの解析を実行。
- **分析**: 単語頻度集計、名詞・動詞・形容詞の抽出。
- **可視化**: ワードクラウド (`wordcloud2.js`)、頻出語棒グラフ。

---

## 制限事項と注意点

### ブラウザ環境への依存
本アプリはクライアントサイド（ブラウザ）のJavaScriptエンジンで動作します。
- **メモリ制限**: 数十万行を超えるような極端に巨大なデータセットの場合、ブラウザのメモリ制限により動作が遅くなる、またはクラッシュする可能性があります。
- **計算精度**: JavaScriptの浮動小数点演算に依存するため、厳密な科学計算と比較してわずかな誤差が生じる場合があります（一般的な統計分析の用途には十分な精度です）。

### 以前のバージョン (PyScript版) との違い
- **Python不要**: Pythonランタイムをロードしないため、初期読み込みが劇的に高速化しました。
- **ライブラリ**: `pandas`, `scikit-learn` の代わりに、JavaScriptライブラリ (`jStat`, `math.js`) を使用しています。アルゴリズムは標準的な統計手法に準拠していますが、実装の細部で出力形式が異なる場合があります。

---

© 2022-2026 Dit-Lab.(Daiki Ito).
